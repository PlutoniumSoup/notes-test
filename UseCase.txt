@startuml
left to right direction

skinparam packageStyle rectangle
skinparam usecase {
  BackgroundColor #f9f9f9
  BorderColor #444
  ArrowColor #222
  FontSize 12
}

actor "Пользователь" as User

rectangle "1. Работа с заметками" {
  usecase "UC-01: Создание новой заметки" as UC01
  usecase "UC-02: Редактирование заметки\n(история версий)" as UC02
}

rectangle "2. Поиск и сопоставление\nв базе знаний" {
  usecase "UC-03: Автосвязывание\nзаметки с узлами" as UC03
  usecase "UC-04: Создание нового\nузла из заметки" as UC04
}

rectangle "3. Визуализация графа знаний" {
  usecase "UC-05: Открытие и взаимодействие\nс графом" as UC05
  usecase "UC-06: Фокусировка на\nтекущей заметке" as UC06
}

rectangle "4. Взаимодействие с узлами графа" {
  usecase "UC-07: Просмотр и редактирование\nузла знаний" as UC07
  usecase "UC-08: Ручное создание\nсвязи между узлами" as UC08
}

rectangle "5. Работа с пробелами знаний" {
  usecase "UC-09: Отметка узла как\n«пробел в знаниях»" as UC09
  usecase "UC-10: План заполнения\nпробелов" as UC10
}

rectangle "6. Пользовательский опыт" {
  usecase "UC-11: Быстрый поиск\nпо всему" as UC11
  usecase "UC-12: Создание коллекций\n(тематических папок)" as UC12
}

rectangle "7. Дополнительные функции (MVP+)" {
  usecase "UC-13: Экспорт графа и заметок" as UC13
  usecase "UC-14: Импорт из приложений" as UC14
  usecase "UC-15: Совместная работа\n(шаринг)" as UC15
  usecase "UC-16: Рекомендации\n«Что изучить дальше»" as UC16
}

' --- Актор → Use Cases (сплошные стрелки)
User --> UC01
User --> UC02
User --> UC05
User --> UC07
User --> UC09
User --> UC11
User --> UC12
User --> UC15


UC01 ..> UC03 : <<include>>
UC01 ..> UC04 : <<include>>

UC09 ..> UC10 : <<include>>
UC10 ..> UC16 : <<include>>

UC12 ..> UC05 : <<include>>

UC05 <.. UC06 : <<extend>>
UC07 <.. UC08 : <<extend>>
UC13 <.. UC14 : <<extend>>
UC15 <.. UC13 : <<extend>>

@enduml
